package managedBeans;

import javax.annotation.PostConstruct;
import javax.ejb.EJB;
import javax.faces.bean.ManagedBean;
import javax.faces.bean.SessionScoped;
import javax.faces.context.FacesContext;

import beans.DocenteBeanLocal;
import model.FichaDocente;

@ManagedBean(name = "principal")
@SessionScoped
public class Principal {

	@EJB
	private DocenteBeanLocal srvDcnt;

	private FichaDocente fd;
	public Integer fdId;
	FacesContext context = FacesContext.getCurrentInstance();

	@PostConstruct
	public void init() {
		Login l = context.getApplication().evaluateExpressionGet(context, "#{login}", Login.class);
		fdId = l.getUsr().getFichaDocente().getFcdcId();
		fd = srvDcnt.getDocente(l.getUsr().getFichaDocente().getFcdcId());
	}

	public String verDetalle() {
		return "detalleAsistencia";
	}

	// setters and getters
	public Integer getFdId() {
		return fdId;
	}

	public void setFdId(Integer fdId) {
		this.fdId = fdId;
	}

	public FichaDocente getFd() {
		return fd;
	}

	public void setFd(FichaDocente fd) {
		this.fd = fd;
	}

}
