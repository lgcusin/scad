package managedBeans;

import javax.annotation.PostConstruct;
import javax.ejb.EJB;
import javax.faces.bean.ManagedBean;
import javax.faces.bean.SessionScoped;
import javax.faces.context.FacesContext;

import beans.LoginBean;
import beans.LoginBeanLocal;
import model.Usuario;

@ManagedBean(name = "login")
@SessionScoped
public class Login {

	@EJB
	private LoginBeanLocal loginBean;
	private Usuario usr;

	public String nick;
	public String clave;

	@PostConstruct
	public void init() {
		FacesContext context = FacesContext.getCurrentInstance();
		usr = new Usuario();
	}

	public String ingresar() {
		boolean validez = loginBean.verificar(nick, clave);
		if (validez) {
			return "home";
		} else {
			System.out.println("usuario o contrase√±a no validos");
		}

		return null;
	}

	public String getNick() {
		return nick;
	}

	public void setNick(String nick) {
		this.nick = nick;
	}

	public String getClave() {
		return clave;
	}

	public void setClave(String clave) {
		this.clave = clave;
	}

	public LoginBean getLoginObj() {
		return loginObj;
	}

	public void setLoginObj(LoginBean loginObj) {
		this.loginObj = loginObj;
	}

}
