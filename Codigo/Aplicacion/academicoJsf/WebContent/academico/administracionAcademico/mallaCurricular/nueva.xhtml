<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="/componentesGenerales/plantillas/pltPrincipalSinMenuEjecModal.xhtml">
	<ui:define name="paginacion">
		<ui:include src="/componentesGenerales/plantillas/pltPaginacion.xhtml">
			<ui:param name="pagina" value="Administración académico / Malla curricular / Crear nueva" />
		</ui:include>
	</ui:define>
	
	<ui:define name="cuerpo">
		<h:form id="frmNuevaMallaCurricular" enctype="multipart/form-data" acceptcharset="UTF-8">

			<p:panel id="pnlDatos" header="Información Malla Curricular">
				<div class="grid condensed">
				
				<div class="row cells8">
						<div class="cell colspan4">
							<ui:decorate template="/componentesGenerales/plantillas/pltComponenteGeneralDisplay.xhtml">
								<ui:define name="etiqueta">
									<p:outputLabel id="lblFacultad" for="slcFacultad" value="Facultad:" />
								</ui:define>
								<ui:define name="valor">
									<h:selectOneMenu id="slcFacultad"
										value="#{administracionMallaCurricular.amcfDependenciaId}"
										style="width:100%">
										<f:selectItem
											itemLabel="#{generalesConstantesForm.appSeleccione}"
											itemValue="#{generalesConstantesForm.appIdBase}" />
										<f:selectItems var="item"
											value="#{administracionMallaCurricular.amcfListDependencia}"
											itemLabel="#{item.dpnDescripcion}" itemValue="#{item.dpnId}" />
										<p:ajax event="change"
											listener="#{administracionMallaCurricular.buscarCarreras()}"
											update=" lblFacultad , slcFacultad  , lblCarrera , slcCarrera" />
									</h:selectOneMenu>
								</ui:define>
							</ui:decorate>
						</div>
					
						<div class="cell colspan4">
							<ui:decorate template="/componentesGenerales/plantillas/pltComponenteGeneralDisplay.xhtml">
								<ui:define name="etiqueta">
									<p:outputLabel id="lblCarrera" for="slcCarrera" value="Carrera:" />
								</ui:define>
								<ui:define name="valor">
									<h:selectOneMenu id="slcCarrera" value="#{administracionMallaCurricular.amcfMallaCurricularDto.crrId}" style="width:100%">
										<f:selectItem itemLabel="#{generalesConstantesForm.appSeleccione}" itemValue="#{generalesConstantesForm.appIdBase}" />
										<f:selectItems var="item" value="#{administracionMallaCurricular.amcfListCarreraDto}"
											itemLabel="#{item.crrDescripcion}" 
											itemValue="#{item.crrId}" />
											<p:ajax event="change"
											listener="#{administracionMallaCurricular.buscarMallaCurricularPorCarrera()}"
											update=" lblCarrera , slcCarrera" />
									</h:selectOneMenu>
								</ui:define>
							</ui:decorate>
						</div>
					</div>

					<div class="row cells8">
						<div class="cell colspan4">
							<ui:decorate template="/componentesGenerales/plantillas/pltComponenteGeneralDisplay.xhtml">
								<ui:define name="etiqueta">
									<p:outputLabel id="lblCodigoMalla" for="txtCodigoMalla" value="Código: " />
								</ui:define>
								<ui:define name="valor">
									<p:inputText  id="txtCodigoMalla" 
										value="#{administracionMallaCurricular.amcfMallaCurricularDto.mlcrCodigo}"
										style="width:98%"/>
								</ui:define>
							</ui:decorate>
						</div>
						<div class="cell colspan4">
							<ui:decorate template="/componentesGenerales/plantillas/pltComponenteGeneralDisplay.xhtml">
								<ui:define name="etiqueta">
									<p:outputLabel id="lblMallaDescripcion" for="txtMallaDescripcion" value="Descripción: " />
								</ui:define>
								<ui:define name="valor">
									<p:inputTextarea id="txtMallaDescripcion" 
										value="#{administracionMallaCurricular.amcfMallaCurricularDto.mlcrDescripcion}"
       									style="font-weight: Normal !important; width: 98%;" />
								</ui:define>
							</ui:decorate>
						</div>
					</div>	

					<div class="row cells8">
						<div class="cell colspan4">
							<ui:decorate template="/componentesGenerales/plantillas/pltComponenteGeneralEdit.xhtml">
								<ui:define name="etiqueta">
									<p:outputLabel id="lblTotalMaterias" for="txtTotalMaterias" value="Número de Asignaturas: " />
								</ui:define>
								<ui:define name="valor">
									<p:inputNumber id="txtTotalMaterias" 
										value="#{administracionMallaCurricular.amcfMallaCurricularDto.mlcrTotalMaterias}" 
										 	decimalPlaces="0" 
										 	size="50"
											maxValue="999" 
											minValue="1"
											thousandSeparator=""
										 	style="width: 100%;"/>
								</ui:define>
							</ui:decorate>
						</div>
						<div class="cell colspan4">
							<ui:decorate template="/componentesGenerales/plantillas/pltComponenteGeneralDisplay.xhtml">
								<ui:define name="etiqueta">
									<p:outputLabel id="lblNumHoras" for="txtNumHoras" value="Número de Créditos: " />
								</ui:define>
								<ui:define name="valor">
									<p:inputNumber id="txtNumHoras" 
										value="#{administracionMallaCurricular.amcfMallaCurricularDto.mlcrTotalCreditos}"  
										 	decimalPlaces="0" 
										 	size="50"
											maxValue="999" 
											minValue="1"
											thousandSeparator=""
										 	style="width: 100%;"/>
								</ui:define>
							</ui:decorate>
						</div>
					</div>

					<div class="row cells8">
						<div class="cell colspan4">
							<ui:decorate template="/componentesGenerales/plantillas/pltComponenteGeneralDisplay.xhtml">
								<ui:define name="etiqueta">
									<p:outputLabel id="lblTipoMalla" for="txtTipoMalla" value="Tipo malla: " />
								</ui:define>
								<ui:define name="valor">
									<h:selectOneMenu id="txtTipoMalla"
										value="#{administracionMallaCurricular.amcfMallaCurricularDto.tpfrmlId}"
										style="width:100%">
										<f:selectItem itemLabel="#{generalesConstantesForm.appSeleccione}"	itemValue="#{generalesConstantesForm.appIdBase}" />
										<f:selectItems var="item"
											value="#{administracionMallaCurricular.amcfListTipoFormacionMalla}"
											itemLabel="#{item.tifrmlDescripcion}"
											itemValue="#{item.tifrmlId}" />
										<p:ajax event="change"
											update="lblTipoMalla , txtTipoMalla    " />
									</h:selectOneMenu>
								</ui:define>
							</ui:decorate>
						</div>
						<div class="cell colspan4">
							<ui:decorate template="/componentesGenerales/plantillas/pltComponenteGeneralDisplay.xhtml">
								<ui:define name="etiqueta">
									<p:outputLabel id="lblAprobacion" for="txtAprobacion" value="Tipo aprobación: " />
								</ui:define>
								<ui:define name="valor">
									<h:selectOneMenu id="txtAprobacion" value="#{administracionMallaCurricular.amcfMallaCurricularDto.mlcrTipoAprobacion}"	style="width:100%"> 
		       						<f:selectItem itemLabel="#{generalesConstantesForm.appSeleccione}" itemValue="#{generalesConstantesForm.appIdBase}"/> 
									<f:selectItems  var="item" value="#{listasCombosForm.listaTipoAprovaciónMallaCurricular}" 
										itemLabel="#{item.label}" 
										itemValue="#{item.value}" />
									<p:ajax event="change" update="lblAprobacion , txtAprobacion   " />
								</h:selectOneMenu>	
								</ui:define>
							</ui:decorate>
						</div>
					</div>

					<div class="row cells8">
						<div class="cell colspan4">
							<ui:decorate template="/componentesGenerales/plantillas/pltComponenteGeneralDisplay.xhtml">
								<ui:define name="etiqueta">
									<p:outputLabel id="lblCodAprendizaje" for="txtCodAprendizaje" value="Organización aprendizaje: " />
								</ui:define>
								<ui:define name="valor">
									<h:selectOneMenu id="txtCodAprendizaje" value="#{administracionMallaCurricular.amcfMallaCurricularDto.mlcrTipoOrgAprendizaje}"  style="width:100%"> 
		       						<f:selectItem itemLabel="#{generalesConstantesForm.appSeleccione}" itemValue="#{generalesConstantesForm.appIdBase}"/> 
									<f:selectItems  var="item" value="#{listasCombosForm.listaOrgAprendizajeMallaCurricular}" 
										itemLabel="#{item.label}" 
										itemValue="#{item.value}" />
									<p:ajax event="change" update="lblCodAprendizaje , txtCodAprendizaje  " />
								</h:selectOneMenu>	
								</ui:define>
							</ui:decorate>
						</div>
						<div class="cell colspan4">
							<ui:decorate template="/componentesGenerales/plantillas/pltComponenteGeneralDisplay.xhtml">
								<ui:define name="etiqueta">
									<p:outputLabel id="lblVigencia" for="txtVigencia" value="Vigencia: " />
								</ui:define>
								<ui:define name="valor">
									<h:selectOneMenu id="txtVigencia" value="#{administracionMallaCurricular.amcfMallaCurricularDto.mlcrVigencia}" style="width:100%"> 
		       						<f:selectItem itemLabel="#{generalesConstantesForm.appSeleccione}" itemValue="#{generalesConstantesForm.appIdBase}"/> 
									<f:selectItems  var="item" value="#{listasCombosForm.listaVigenciaMallaCurricular}" 
										itemLabel="#{item.label}" 
										itemValue="#{item.value}" />
									<p:ajax event="change" update="lblVigencia , txtVigencia  " />
								</h:selectOneMenu>	
								</ui:define>
							</ui:decorate>
						</div>
					</div>
					<div class="row cells8">
						<div class="cell colspan4">
							<ui:decorate template="/componentesGenerales/plantillas/pltComponenteGeneralDisplay.xhtml">
								<ui:define name="etiqueta">
									<p:outputLabel id="lblFechaInicio" for="txtFechaInicio"
										value="Fecha inicio: " />
								</ui:define>
								<ui:define name="valor">
									<p:calendar  id="txtFechaInicio" value="#{administracionMallaCurricular.amcfMallaCurricularDto.mlcrFechaInicio}" 
			       						effect="fold"
										readonlyInput="true"
										pattern="dd-MM-yyyy">
										<p:ajax event="dateSelect" update="txtFechaInicio" />
									</p:calendar>
								</ui:define>
							</ui:decorate>
						</div>
						<div class="cell colspan4">
							<ui:decorate template="/componentesGenerales/plantillas/pltComponenteGeneralDisplay.xhtml">
								<ui:define name="etiqueta">
									<p:outputLabel id="lblFechaFin" for="txtFechaFin" value="Fecha fin: " />
								</ui:define>
								<ui:define name="valor">
									<p:calendar  id="txtFechaFin" value="#{administracionMallaCurricular.amcfMallaCurricularDto.mlcrFechaFin}" 
			       						effect="fold"
										readonlyInput="true"
										pattern="dd-MM-yyyy">
										<p:ajax event="dateSelect" update="txtFechaFin" />
									</p:calendar>								
								</ui:define>
							</ui:decorate>
						</div>
					</div>

				</div>
			</p:panel>
			
			
			<div>
				<p:commandButton id="btnRegresar" value="Cancelar"
					action="#{administracionMallaCurricular.irListarMallaCurricular()}"
					immediate="true" 
					ajax="false" />
				<p:commandButton id="btnGuardar" value="Guardar"
					action="#{administracionMallaCurricular.irRegistrarNuevaMalla()}"
					ajax="false"/>
			</div>
			
		</h:form>
		
	</ui:define>
</ui:composition>
</html>