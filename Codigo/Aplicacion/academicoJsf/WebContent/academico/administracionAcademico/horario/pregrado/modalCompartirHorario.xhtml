<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">

	<h:form id="frmModalCompartirHorario">
	
		<p:dialog id="dlgCompartirHorario"
			widgetVar="dlgModalCompartirHorario" modal="true" draggable="false"
			closable="false" resizable="false" height="300" width="800"
			styleClass="modal-sin-header">

			<p:outputLabel value="Compartir Horario de Clases" style="font-size: 1.1em !important;" />
			<p:messages autoUpdate="true" globalOnly="true" />

			<p:panel id="pnlBusqueda" header="Panel de BÃºsqueda">
			
				<div class="grid condensed">
					<div class="row cells8">
							<ui:decorate template="/componentesGenerales/plantillas/pltComponenteGeneralEdit.xhtml">
								<ui:define name="etiqueta">
									<p:outputLabel id="lblDependencia" for="slcDependencia" value="Dependencia: " />
								</ui:define>
								<ui:define name="valor">
									<h:selectOneMenu id="slcDependencia"
										value="#{administracionSuficienciaHorarioAcademicoForm.ashafDependenciaCompartidaId}"
										style="width:100%">
										<f:selectItem
											itemLabel="#{generalesConstantesForm.appSeleccione}"
											itemValue="#{generalesConstantesForm.appIdBase}" />
										<f:selectItems var="item"
											value="#{administracionSuficienciaHorarioAcademicoForm.ashafListCompartidaDependenciaDto}"
											itemLabel="#{item.dpnDescripcion}" itemValue="#{item.dpnId}" />
										<p:ajax event="change"
											listener="#{administracionSuficienciaHorarioAcademicoForm.buscarCarrerasAcompartir()}"
											update="lblDependencia , slcDependencia , lblCarrera , slcCarrera , lblNivel , slcNivel , lblParalelo , slcParalelo , lblAsignatura , slcAsignatura " />
									</h:selectOneMenu>
								</ui:define>
							</ui:decorate>
					</div>
				
					<div class="row cells8">
							<ui:decorate template="/componentesGenerales/plantillas/pltComponenteGeneralEdit.xhtml">
								<ui:define name="etiqueta">
									<p:outputLabel id="lblCarrera" for="slcCarrera" value="Carrera:" />
								</ui:define>
								<ui:define name="valor">
									<h:selectOneMenu id="slcCarrera"
										value="#{administracionSuficienciaHorarioAcademicoForm.ashafCarreraCompartidaId}"
										style="width:100%">
										<f:selectItem
											itemLabel="#{generalesConstantesForm.appSeleccione}"
											itemValue="#{generalesConstantesForm.appIdBase}" />
										<f:selectItems var="item"
											value="#{administracionSuficienciaHorarioAcademicoForm.ashafListCompartidaCarrera}"
											itemLabel="#{item.crrDescripcion}" itemValue="#{item.crrId}" />
										<p:ajax event="change"
											listener="#{administracionSuficienciaHorarioAcademicoForm.buscarNivelesAcompartir()}"
											update="lblCarrera , slcCarrera , lblNivel , slcNivel , lblParalelo , slcParalelo , lblAsignatura , slcAsignatura " />
									</h:selectOneMenu>
								</ui:define>
							</ui:decorate>
					</div>

					<div class="row cells8">
							<ui:decorate template="/componentesGenerales/plantillas/pltComponenteGeneralEdit.xhtml">
								<ui:define name="etiqueta">
									<p:outputLabel id="lblNivel" for="slcNivel" value="Nivel:" />
								</ui:define>
								<ui:define name="valor">
									<h:selectOneMenu id="slcNivel"
										value="#{administracionSuficienciaHorarioAcademicoForm.ashafNivelCompartidaId}"
										style="width:100%">
										<f:selectItem
											itemLabel="#{generalesConstantesForm.appSeleccione}"
											itemValue="#{generalesConstantesForm.appIdBase}" />
										<f:selectItems var="item"
											value="#{administracionSuficienciaHorarioAcademicoForm.ashafListCompartidaNivelDto}"
											itemLabel="#{item.nvlDescripcion}" itemValue="#{item.nvlId}" />
										<p:ajax event="change"
											listener="#{administracionSuficienciaHorarioAcademicoForm.buscarParalelosAcompartir()}"
											update="lblNivel , slcNivel , lblParalelo , slcParalelo , lblAsignatura , slcAsignatura " />
									</h:selectOneMenu>
								</ui:define>
							</ui:decorate>
					</div>

					<div class="row cells8">
							<ui:decorate template="/componentesGenerales/plantillas/pltComponenteGeneralEdit.xhtml">
								<ui:define name="etiqueta">
									<p:outputLabel id="lblParalelo" for="slcParalelo" value="Paralelo:" />
								</ui:define>
								<ui:define name="valor">
									<h:selectOneMenu id="slcParalelo"
										value="#{administracionSuficienciaHorarioAcademicoForm.ashafParaleloCompartidaId}"
										style="width:100%" >
										<f:selectItem
											itemLabel="#{generalesConstantesForm.appSeleccione}"
											itemValue="#{generalesConstantesForm.appIdBase}" />
										<f:selectItems var="item"
											value="#{administracionSuficienciaHorarioAcademicoForm.ashafListCompartidaParaleloDto}"
											itemLabel="#{item.prlDescripcion}" itemValue="#{item.prlId}" />
										<p:ajax event="change"
											listener="#{administracionSuficienciaHorarioAcademicoForm.buscarMateriaAcompartir()}"
											update="lblParalelo , slcParalelo , lblAsignatura , slcAsignatura " />
									</h:selectOneMenu>
								</ui:define>
							</ui:decorate>
					</div>

					<div class="row cells8">
							<ui:decorate template="/componentesGenerales/plantillas/pltComponenteGeneralEdit.xhtml">
								<ui:define name="etiqueta">
									<p:outputLabel id="lblAsignatura" for="slcAsignatura" value="Asignatura:" />
								</ui:define>
								<ui:define name="valor">
									<h:selectOneMenu id="slcAsignatura"
										value="#{administracionSuficienciaHorarioAcademicoForm.ashafMateriaCompartidaId}"
										style="width:100%" >
										<f:selectItem
											itemLabel="#{generalesConstantesForm.appSeleccione}"
											itemValue="#{generalesConstantesForm.appIdBase}" />
										<f:selectItems var="item"
											value="#{administracionSuficienciaHorarioAcademicoForm.ashafListCompartidaMateriaDto}"
											itemLabel="#{item.mtrDescripcion}" itemValue="#{item.mtrId}" />
										<p:ajax event="change"
											listener="#{administracionSuficienciaHorarioAcademicoForm.verificarCompatibilidad()}"
											update="lblAsignatura , slcAsignatura , frmModalCompartirHorario:btnCompartirHorario " />
									</h:selectOneMenu>
								</ui:define>
							</ui:decorate>
					</div>
					
				</div>
			</p:panel>

			<div>
				<p:commandButton id="btnCancelar" value="Cancelar"
					update="frmModalCompartirHorario"
					action="#{administracionSuficienciaHorarioAcademicoForm.vaciarModalCompartirHorario()}"
					onclick="PF('dlgCompartirHorario').hide();" />
				<p:commandButton id="btnCompartirHorario" value="Compartir"
					disabled="#{administracionSuficienciaHorarioAcademicoForm.ashafRenderGuardarCompartirHorario}"
					action="#{administracionSuficienciaHorarioAcademicoForm.asignarDocenteAulasCompartidas()}"
					onclick="PF('dlgCompartirHorario').hide();"/>
			</div>

		</p:dialog>
	</h:form>
</ui:composition>