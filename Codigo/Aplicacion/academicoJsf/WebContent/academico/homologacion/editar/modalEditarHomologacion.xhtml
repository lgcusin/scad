<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
      			xmlns:ui="http://java.sun.com/jsf/facelets"
      			xmlns:f="http://java.sun.com/jsf/core"
      			xmlns:h="http://java.sun.com/jsf/html"
     			xmlns:p="http://primefaces.org/ui">
	<h:form id="frmModalEditarHomologacion">
		<p:dialog widgetVar="dialogoEditarHomologacion" modal="true" draggable="false" closable="false" 
				  resizable="false" height="400" width="500" styleClass="modal-sin-header" >
			<p:outputLabel 
				value="Editar homologación"
				style="font-size: 1.1em !important;" />
				
            <p:messages for="mensaje" autoUpdate="true" globalOnly="true" />
					
			<p:panel id="pnlResultados" header="Información">

				<div class="grid condensed" >
				<!-- ******************** FILA NUMERO 1 ************************ -->
				<div class="row cells8"> 
						
					<div class="cell colspan4" style="width: 100%;">
							<ui:decorate
								template="/componentesGenerales/plantillas/pltComponenteGeneralDisplayAlterna.xhtml">
								<ui:define name="etiqueta">
									<p:outputLabel id="lblAsignatura" for="asignatura"
										value="Asignatura: " 
										/>
								</ui:define>
								<ui:define name="valor">
									<p:outputLabel id="asignatura"
										value="#{editarHomologacionForm.ehfMateriaDtoEditar.mtrDescripcion}"
										style="vertical-align: super;font-weight: Normal !important; width:100%"
										 />
								</ui:define>
							</ui:decorate>
						</div>   
				</div> 
			
				<!-- ******************** FILA NUMERO 2 ************************ -->
				<div class="row cells8"> 
					<div class="cell colspan4" style="width: 100%;">
							<ui:decorate
								template="/componentesGenerales/plantillas/pltComponenteGeneralDisplayAlterna.xhtml">
								<ui:define name="etiqueta">
									<p:outputLabel id="lblNivel" for="nivel" value="Nivel: " 	/>
								</ui:define>
								<ui:define name="valor">
									<p:outputLabel id="nivel"
										value="#{editarHomologacionForm.ehfMateriaDtoEditar.nvlDescripcion}"
										style="vertical-align: super;font-weight: Normal !important; width:100%"
										 />
								</ui:define>
							</ui:decorate>
						</div>
				</div> 
				
					<!-- ******************** FILA NUMERO 3 ************************ -->
			
 				
 				<div class="row cells8"> <!-- Tipo de documento -->
					
					<div class="cell colspan4"> <!-- numero de documento -->
						<ui:decorate template="/componentesGenerales/plantillas/pltComponenteGeneralEdit.xhtml">
							<ui:define name="etiqueta">
								<p:outputLabel id="lblNota1" for="txtNota1" value="Nota1: " />
							</ui:define>
							<ui:define name="valor">
														
							<p:inputNumber id="txtNota1" value="#{editarHomologacionForm.ehfMateriaDtoEditar.notaUno}"  
							            minValue="0" maxValue="20" decimalPlaces="2"  decimalSeparator="," thousandSeparator="."  
							            inputStyle=" text-align: right; " >
		                    <p:ajax event="change" listener="#{editarHomologacionForm.calcularPromedioEditar(editarHomologacionForm.ehfMateriaDtoEditar)}"  
							update="txtNotaFinal, slcNumMatricula, txtEstadoHomologacion" /> 

 					      	</p:inputNumber> 
									
							</ui:define>
							<ui:define name="etiquetaError">
								<p:message id="msgNota1" for="txtNota1" />
							</ui:define>
						</ui:decorate>
					</div>
				</div>
 				
 				
 				<div class="row cells8"> <!-- Tipo de documento -->
					
					<div class="cell colspan4"> <!-- numero de documento -->
						<ui:decorate template="/componentesGenerales/plantillas/pltComponenteGeneralEdit.xhtml">
							<ui:define name="etiqueta">
								<p:outputLabel id="lblNota2" for="txtNota2" value="Nota2: " />
							</ui:define>
							<ui:define name="valor">
														
							<p:inputNumber id="txtNota2" value="#{editarHomologacionForm.ehfMateriaDtoEditar.notaDos}"  
							           
							            minValue="0" maxValue="20" decimalPlaces="2"  decimalSeparator="," thousandSeparator="." inputStyle=" text-align: right; "  >
		                    <p:ajax event="change" listener="#{editarHomologacionForm.calcularPromedioEditar(editarHomologacionForm.ehfMateriaDtoEditar)}"  
							update="txtNotaFinal, slcNumMatricula, txtEstadoHomologacion" /> 
 					      	</p:inputNumber> 
							</ui:define>
							
							<ui:define name="etiquetaError">
								<p:message id="msgNota2" for="txtNota2" />
							</ui:define>
							
						</ui:decorate>
					</div>
				</div>
 				
 				<div class="row cells8"> <!-- Tipo de documento -->
					
					<div class="cell colspan4"> <!-- numero de documento -->
						<ui:decorate template="/componentesGenerales/plantillas/pltComponenteGeneralEdit.xhtml">
							<ui:define name="etiqueta">
								<p:outputLabel id="lblNotaFinal" for="txtNotaFinal" value="Nota final " />
							</ui:define>
							<ui:define name="valor">
														
							<p:inputNumber id="txtNotaFinal" value="#{editarHomologacionForm.ehfMateriaDtoEditar.notaSuma}" disabled="true"  
							            minValue="0" maxValue="40" decimalPlaces="2"  decimalSeparator="," thousandSeparator="."  inputStyle=" text-align: right;" >
 					      	</p:inputNumber> 
									
							</ui:define>
							<ui:define name="etiquetaError">
								<p:message id="msgNotaFinal" for="txtNotaFinal" />
							</ui:define>
						</ui:decorate>
					</div>
				</div>
 					
 			 	<div class="row cells8">
					<div class="cell colspan4" >
								<ui:decorate template="/componentesGenerales/plantillas/pltComponenteGeneralEdit.xhtml">
									<ui:define name="etiqueta">
										<p:outputLabel id="lblNumMatricula" for="slcNumMatricula" value="Número matrícula: " />
									</ui:define>
									<ui:define name="valor">
										<h:selectOneMenu id="slcNumMatricula" value="#{editarHomologacionForm.ehfMateriaDtoEditar.numMatricula}" 
										                disabled="#{editarHomologacionForm.ehfMateriaDtoEditar.mtrCmbEstado}"
										                style="width: 100%;" required="true"
														requiredMessage="#{generalesConstantesForm.msgCampoRequerido}">		
											<f:selectItem itemLabel="#{generalesConstantesForm.appSeleccione}"
											              itemValue="#{generalesConstantesForm.appIdBase}" />
										  	<f:selectItems var="item" value="#{listasCombosForm.listaNumeroMatriculaHomologacion}"
								                 itemLabel="#{item.label}"
								                itemValue="#{item.value}" />
										</h:selectOneMenu>
									</ui:define>
									<ui:define name="etiquetaError">
										<p:message id="msgNumMatricula" for="slcNumMatricula" />
									</ui:define>
							    </ui:decorate>
						    </div>
 				</div>					
 				
 			 
 				
 				<div class="row cells8"> 
					
					<div class="cell colspan4"> 
						<ui:decorate template="/componentesGenerales/plantillas/pltComponenteGeneralEdit.xhtml">
							<ui:define name="etiqueta">
								<p:outputLabel id="lblEstadoHomologacion" for="txtEstadoHomologacion" value="Estado " />
							</ui:define>
							<ui:define name="valor">
 					      	
 					      	<h:outputText id="txtEstadoHomologacion" value="#{listasCombosForm.getListaEstadoRecorAcademico(editarHomologacionForm.ehfMateriaDtoEditar.estadoHomologacion)}"/>
									
							</ui:define>
							<ui:define name="etiquetaError">
								<p:message id="msgEstadoHomologacion" for="txtEstadoHomologacion" />
							</ui:define>
						</ui:decorate>
					</div>
				</div>
 					  	
			 </div>  <!-- Fin Grid Condensed --> 
			</p:panel>

       
     <div class="row cells8">
      
                 <p:commandButton 
					id="btnCerrarModal" 
					value="Cerrar"
					action="#{editarHomologacionForm.desactivaModalEditar()}"
					update="frmVerMateriasHomologadas"
					oncomplete="PF('dialogoEditarHomologacion').hide();" 
					 />
					
					<p:commandButton 
					id="btnGuardarModal" 
					value="Guardar"
					action="#{editarHomologacionForm.guardarEditarHomologacion(editarHomologacionForm.ehfMateriaDtoEditar)}"
					update="btnGuardarModal"
					disabled= "#{editarHomologacionForm.ehfDeshabilitaGuardarEdicion}"
					 />
<!-- 			oncomplete="PF('dialogoAgregarHomologacion').hide();" update="frmVerMateriasHomologadas" ajax="false" -->
			
		</div>
			
		</p:dialog> 
	</h:form>
</ui:composition>