<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"> 

<ui:composition template="/componentesGenerales/plantillas/pltPrincipalSinMenuEjecModal.xhtml">
<ui:define name="paginacion">
		<ui:include src="/componentesGenerales/plantillas/pltPaginacion.xhtml">
			<ui:param name="pagina"
				value="Registrar segunda carrera / Buscar estudiante/Registrar" />
		</ui:include>
</ui:define>

<ui:define name="cuerpo">
<script language="JavaScript">
//<![CDATA[
	function verificarErrores(){
    	var idVarError = 'compOculto:txtValidador';
    	var varError = document.getElementById(idVarError);
    	if(varError.value == 1){
    		document.getElementById('frmRegistro:btnModalRegistrarSegundaCarrera').click();
        }

	  }
	  
    	 function nobackbutton(){
 	 		window.location.hash="no-back-button";
 	  		window.location.hash="Again-No-back-button" //chrome
 	   		window.onhashchange=function(){window.location.hash="no-back-button";}
 	      }


    	 $(document).ready(function() {
    		    $("form").keypress(function(e) {
    		        if (e.which == 13) {
    		            return false;
    		        }
    		    });
    		});

 //]]> 
</script>
	<h:form id="frmRegistro" enctype="multipart/form-data" acceptcharset="UTF-8" >
			<p:panel id="pnlDatosEstudiante" header="Información Estudiante">
				<!-- ******************** TABLA RESPONSIVA ************************ -->
				<div class="grid condensed">
					<!-- ******************** FILA NUMERO 1  Identificacion************************ -->
					<div class="row cells8">
						<div class="cell colspan4" style="width: 40%;">
							<ui:decorate
								template="/componentesGenerales/plantillas/pltComponenteGeneralDisplayAlterna.xhtml">
								<ui:define name="etiqueta">
									<p:outputLabel id="lblIdentificacion" for="identificacion"
										value="Identificación: " />
								</ui:define>
								<ui:define name="valor">
									<p:outputLabel id="identificacion"
										value="#{registrarSegundaCarreraForm.rscfEstudianteEditar.prsIdentificacion}"
										style="vertical-align: super;font-weight: Normal !important; width:100%" />
								</ui:define>
							</ui:decorate>
						</div>
						<div class="cell colspan4" style="width: 60%;">
							<ui:decorate
								template="/componentesGenerales/plantillas/pltComponenteGeneralDisplayAlterna.xhtml">
								<ui:define name="etiqueta">
									<p:outputLabel id="lblNombre" for="nombre" value="Nombre: " />
								</ui:define>
								<ui:define name="valor">
									<p:outputLabel id="nombre"
										value="#{registrarSegundaCarreraForm.rscfEstudianteEditar.prsPrimerApellido.concat(' ').
								concat(registrarSegundaCarreraForm.rscfEstudianteEditar.prsSegundoApellido).concat(' ').
								concat(registrarSegundaCarreraForm.rscfEstudianteEditar.prsNombres) }"
										style="vertical-align: super;font-weight: Normal !important; width:100%" />
								</ui:define>
							</ui:decorate>
						</div>
					</div>
					<!-- Fin fila 1 -->
					
					<div class="row cells8">
						<div class="cell colspan4" style="width: 40%;">
							<ui:decorate
								template="/componentesGenerales/plantillas/pltComponenteGeneralDisplayAlterna.xhtml">
								<ui:define name="etiqueta">
									<p:outputLabel id="lblCarrera" for="carrera" value="Carrera: " />
								</ui:define>
								<ui:define name="valor">
									<p:outputLabel id="carrera"
										value="#{registrarSegundaCarreraForm.rscfEstudianteEditar.crrDetalle}"
										style="vertical-align: super;font-weight: Normal !important; width:100%" />
								</ui:define>
							</ui:decorate>
						</div>
					
					</div>				
	
				
									
							
					<div class="row cells8">
								
						<div class="cell colspan4" ><!--  -->
								<ui:decorate template="/componentesGenerales/plantillas/pltComponenteGeneralEdit.xhtml">
									<ui:define name="etiqueta"  >
										<p:outputLabel id="lblTipoUniversidad" for="lblTipoUniversidad" value="Tipo de Universidad estudios previos: " />
									</ui:define>
									<ui:define name="valor">
										<h:selectOneMenu id="slcTipoUniversidad" value="#{registrarSegundaCarreraForm.rscfEstudianteEditar.fcesTipoUnivEstudPrev}" 
										                style="width: 100%;"
										                 required="true"
										               	requiredMessage="#{generalesConstantesForm.msgCampoRequerido}">		
											<f:selectItem itemLabel="#{generalesConstantesForm.appSeleccione}"
											              itemValue="#{generalesConstantesForm.appIdBase}" />
										  	<f:selectItems value="#{listasCombosForm.listaTipoUnivEstudPrev}" var="item"
													itemLabel="#{item.label}" itemValue="#{item.value}" />  
											<p:ajax event="change" update="lblTipoUniversidad, slcTipoUniversidad, msgTipoUniversidad" />
										</h:selectOneMenu>
									</ui:define>
									<ui:define name="etiquetaError">
										<p:message id="msgTipoUniversidad" for="slcTipoUniversidad" />
									</ui:define>
							    </ui:decorate>
						    </div>
						    
						    
						    <div class="cell colspan4" ><!--  -->
								<ui:decorate template="/componentesGenerales/plantillas/pltComponenteGeneralEdit.xhtml">
									<ui:define name="etiqueta">
										<p:outputLabel id="lblUniversidad" for="lblUniversidad" value="Universidad estudios previos: " />
									</ui:define>
									<ui:define name="valor">
										<h:selectOneMenu id="slcUniversidad" value="#{registrarSegundaCarreraForm.rscfEstudianteEditar.fcesUnivEstudPrevId}" 
										                style="width: 100%;"
										                 required="true"
										             	requiredMessage="#{generalesConstantesForm.msgCampoRequerido}">		
											<f:selectItem itemLabel="#{generalesConstantesForm.appSeleccione}"
											              itemValue="#{generalesConstantesForm.appIdBase}" />
										  	<f:selectItems value="#{registrarSegundaCarreraForm.rscfListUniversidadesDto}" var="item"
													itemLabel="#{item.inacDescripcion}" itemValue="#{item.inacId}" />  
											<p:ajax event="change" update="lblUniversidad, slcUniversidad, msgUniversidad" />
										</h:selectOneMenu>
									</ui:define>
									<ui:define name="etiquetaError">
										<p:message id="msgUniversidad" for="slcUniversidad" />
									</ui:define>
							    </ui:decorate>
						    </div>
						
					</div>
					
					
					<div class="row cells8">
												
						<div class="cell colspan4" ><!--  -->
								<ui:decorate template="/componentesGenerales/plantillas/pltComponenteGeneralEdit.xhtml">
									<ui:define name="etiqueta">
										<p:outputLabel id="lblEstadoEstudPrev" for="slcEstadoEstudPrev" value="Estado de estudios previos: " />
									</ui:define>
									<ui:define name="valor">
										<h:selectOneMenu id="slcEstadoEstudPrev" value="#{registrarSegundaCarreraForm.rscfEstudianteEditar.fcesEstadoEstudPrev}" 
										                style="width: 100%;" 
										                required="true"
										            	requiredMessage="#{generalesConstantesForm.msgCampoRequerido}">		
											<f:selectItem itemLabel="#{generalesConstantesForm.appSeleccione}"
											              itemValue="#{generalesConstantesForm.appIdBase}" />
										  	<f:selectItems value="#{listasCombosForm.listaEstadoEstudPrev}" var="item"
													itemLabel="#{item.label}" itemValue="#{item.value}" />  
											<p:ajax event="change" listener="#{registrarSegundaCarreraForm.habilitaListasAdicionales(registrarSegundaCarreraForm.rscfEstudianteEditar.fcesEstadoEstudPrev)}" 
											update="lblEstadoEstudPrev, slcEstadoEstudPrev, msgEstadoEstudPrev ,lblTitulo , slcTitulo, lblSenescyt, txtSenescyt "  />
										</h:selectOneMenu>
									</ui:define>
									<ui:define name="etiquetaError">
										<p:message id="msgEstadoEstudPrev" for="slcEstadoEstudPrev" />
									</ui:define>
							    </ui:decorate>
						    </div>
						<div class="cell colspan4" ><!--  -->
								<ui:decorate template="/componentesGenerales/plantillas/pltComponenteGeneralEdit.xhtml">
									<ui:define name="etiqueta">
										<p:outputLabel id="lblTitulo" for="slcTitulo" value="Título de estudios previos: "/>
									</ui:define>
									<ui:define name="valor">
										<h:selectOneMenu id="slcTitulo" value="#{registrarSegundaCarreraForm.rscfEstudianteEditar.fcesTitEstudPrevId}" 
										                style="width: 100%;" required="false"
										                disabled="#{registrarSegundaCarreraForm.rscfBloqueaCamposAdicionales}"
														requiredMessage="#{generalesConstantesForm.msgCampoRequerido}">		
											<f:selectItem itemLabel="#{generalesConstantesForm.appSeleccione}"
											              itemValue="#{generalesConstantesForm.appIdBase}" />
										  	<f:selectItems value="#{registrarSegundaCarreraForm.rscfListTitulosUniversidadDto}" var="item"
													itemLabel="#{item.ttlDescripcion}" itemValue="#{item.ttlId}" />  
											<p:ajax event="change" update="lblTitulo , slcTitulo , msgTitulo"  />
										</h:selectOneMenu>
									</ui:define>
									<ui:define name="etiquetaError">
										<p:message id="msgTitulo" for="slcTitulo" />
									</ui:define>
							    </ui:decorate>
						    </div>
						
						
					</div>
					
					<div class="row cells8">
					<div class="cell colspan4">
							<!--   -->
							<ui:decorate
								template="/componentesGenerales/plantillas/pltComponenteGeneralEdit.xhtml">
								<ui:define name="etiqueta">
									<p:outputLabel id="lblSenescyt"	for="txtSenescyt" value="Registro Senescyt: " />
								</ui:define>
								<ui:define name="valor">
									<p:inputText id="txtSenescyt" value="#{registrarSegundaCarreraForm.rscfEstudianteEditar.fcesRegTituloPrev}"
										required="false"
										 disabled="#{registrarSegundaCarreraForm.rscfBloqueaCamposAdicionales}"
										requiredMessage="#{generalesConstantesForm.msgCampoRequerido}"
										style="width: 97%;">
										<p:ajax event="blur"
											update="lblSenescyt , txtSenescyt , msgSenescyt " />
									</p:inputText>
								</ui:define>
								<ui:define name="etiquetaError">
									<p:message id="msgSenescyt"
										for="txtSenescyt" />
								</ui:define>
							</ui:decorate>
						</div>
												
					
					</div>
								
				</div>
				<!-- Fin GRID-->
			</p:panel>
		
		<div >
			<p:commandButton id="btnCancelar" value="Cancelar" action="#{registrarSegundaCarreraForm.cancelarRegistro()}"  ajax="false" immediate="true"/>
			
			<p:commandButton id="btnVerificarRegistro" action="#{registrarSegundaCarreraForm.irVerificarRegistroSegundaCarrera(registrarSegundaCarreraForm.rscfEstudianteEditar)}" value="Finalizar"  ajax="false" />
			
			<p:commandButton id="btnModalRegistrarSegundaCarrera" value="EjecutarModalRegistrar" style="visibility:hidden;">
    				<p:ajax oncomplete="PF('dialogoRegistrarSegundaCarrera').show();" update=":frmModalRegistrarSegundaCarrera" />
    		</p:commandButton>
    
    		
		</div>
		
	</h:form>
	<ui:include src="/academico/administracionSecretaria/estudianteSegundaCarrera/modalRegistrarSegundaCarrera.xhtml" />
	
	<h:form id="compOculto" style="visibility:hidden;">
	 	<p:inputText id="txtValidador" value="#{registrarSegundaCarreraForm.rscfValidadorClic}" />
	</h:form>
	
	
	
</ui:define>
</ui:composition>
</html>