<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
      			xmlns:ui="http://java.sun.com/jsf/facelets"
      			xmlns:f="http://java.sun.com/jsf/core"
      			xmlns:h="http://java.sun.com/jsf/html"
     			xmlns:p="http://primefaces.org/ui">
	<h:form id="frmModalEditarEvaluacionDocente">
		<p:dialog widgetVar="dialogoEditarEvaluacionDocente" modal="true" draggable="false" closable="false" 
				  resizable="false" height="510" width="900" styleClass="modal-sin-header">
			<p:outputLabel value="Apelación Evaluación"  style="font-size: 1.1em !important;" />
			<p:panel id="pnlBusqueda"  >
				<!-- ******************** TABLA RESPONSIVA ************************ -->
				<p:dataTable id="dtsOpciones" var="item"
					value="#{apelacionEvaluacionDocenteForm.edafContenidoDto}"
					rowIndexVar="rowIndex"
					emptyMessage="NO SE ENCONTRARON INDICADORES A EVALUAR.">

					<p:column headerText="#" class="uce-column1"
						style="width:5%; text-align: center;">
						<h:outputText value="#{item.tpcnNumeral}" />
					</p:column>
					<p:column headerText="Indicador" class="uce-column2">
						<h:outputText value="#{item.tpcnDescripcion}" />
					</p:column>
					
					  <p:column headerText="ESCALAS DE VALORACIÓN" class="uce-column3"
												style="width:25%; text-align: center;">
												<h:selectOneRadio value="#{apelacionEvaluacionDocenteForm.edafContenidoDto.cntSeleccionApelacion}" >
													<f:selectItems
														value="#{apelacionEvaluacionDocenteForm.calcularComponente(item.tpcnNumMax, item.tpcnTipoSeleccion)}"
														var="it"
														itemLabel="#{apelacionEvaluacionDocenteForm.calcularComponenteEtiqueta(it, item.tpcnTipoSeleccion)}" 
														>
													</f:selectItems>
													<p:ajax event="change"  listener="#{apelacionEvaluacionDocenteForm.agregarSeleccion()}"/>
												</h:selectOneRadio>
											</p:column>
				</p:dataTable>
				<p:panel>
				<div class="grid condensed">
				<!-- ******************** FILA NUMERO 1 ************************ -->
						<div class="row cells8">
							<div class="cell colspan6">
								<!-- IDENTIFICACION -->
								<ui:decorate
									template="/componentesGenerales/plantillas/pltComponenteGeneralEdit.xhtml">
									<ui:define name="etiqueta">
										<p:outputLabel id="lblReferencia" for="txtReferencia"
											value="Oficio Autorización: " />
									</ui:define>
									<ui:define name="valor">
										<h:inputText id="txtReferencia"
											value="#{apelacionEvaluacionDocenteForm.edafContenidoDto.cntOficioApelacion}"
											requiredMessage="#{generalesConstantesForm.msgCampoRequerido}" required="true"
											style="width:100%" />
									</ui:define>
										<ui:define name="etiquetaError">
											<p:message id="msgReferencia" for="txtReferencia" />
										</ui:define>
								</ui:decorate>
							</div>
						</div>
						
					</div>
				
		    	
		    	<!-- ******************** FILA NUMERO 2 ************************ -->
		        
		    	</p:panel>
			</p:panel>
			
		
		
			<div >
			<p:commandButton value="Cancelar" action="#{apelacionEvaluacionDocenteForm.cancelar}" update=":frmModalEditarEvaluacionDocente" 
			oncomplete="PF('dialogoTrabajando').hide();" immediate="true"/>
			<p:commandButton id="btnGuardar" value="Guardar"
					action="#{apelacionEvaluacionDocenteForm.guardarApelacion()}" ajax="false" actionListener="#{apelacionEvaluacionDocenteForm.cargarSeleccionInicial()}"
					onclick="PF('dialogoTrabajando').show();" 
					onsuccess="PF('dialogoTrabajando').hide();" />
			</div>
		</p:dialog> 
	</h:form>
</ui:composition>