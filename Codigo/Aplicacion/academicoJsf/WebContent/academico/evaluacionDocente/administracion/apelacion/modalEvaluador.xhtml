<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
      			xmlns:ui="http://java.sun.com/jsf/facelets"
      			xmlns:f="http://java.sun.com/jsf/core"
      			xmlns:h="http://java.sun.com/jsf/html"
     			xmlns:p="http://primefaces.org/ui">
	<h:form id="frmModalEvaluador">
		<p:dialog widgetVar="dialogoEvaluador" modal="true" draggable="false" closable="false" 
				  resizable="false" height="510" width="900" styleClass="modal-sin-header">
			<p:outputLabel value="Seleccione rol de Evaluador"  style="font-size: 1.1em !important;" />
			<p:panel id="pnlBusqueda" header="Ingrese los datos para buscar" >
			<div class="grid condensed">
				<!-- ******************** FILA NUMERO 1 ************************ -->
						<div class="row cells8">
							<div class="cell colspan6">
								<!-- IDENTIFICACION -->
								<ui:decorate
									template="/componentesGenerales/plantillas/pltComponenteGeneralEdit.xhtml">
									<ui:define name="etiqueta">
										<p:outputLabel id="lblIdentificacion" for="txtIdentificacion:"
											value="Identificacion: " />
									</ui:define>
									<ui:define name="valor">
										<h:inputText id="txtIdentificacion"
											value="#{apelacionEvaluacionDocenteForm.edafPersonaEvaluador.prsIdEvaluador}"
											requiredMessage="#{generalesConstantesForm.msgCampoRequerido}" required="true"
											style="width:100%"   onkeypress="return soloNumeros(event)" maxlength="10"/>
									</ui:define>
										<ui:define name="etiquetaError">
											<p:message id="msgReferencia" for="txtIdentificacion:" />
										</ui:define>
								</ui:decorate>
							</div>
						</div>
						
					</div>
					</p:panel>
			<div>

				<p:commandButton id="btnBuscar" value="Buscar"
					action="#{apelacionEvaluacionDocenteForm.buscarRolesEvaluador()}"
					update="frmModalEvaluador:pnlResultados" />
			</div>
			<p:panel id="pnlResultados" header="Resultados de la búsqueda">
				<!-- ******************** TABLA RESPONSIVA ************************ -->
				<p:dataTable id="dtsOpciones" var="item"
					value="#{apelacionEvaluacionDocenteForm.edafListUsroDtoEvaluador}"
					emptyMessage="NO SE ENCONTRARON DATOS CON LOS PARÁMETROS DE BÚSQUEDA INGRESADOS">

					<p:column headerText="Apellidos y Nombres" class="uce-column1" style="width:40%">
						<h:outputText value="#{item.nombresCompletos()}" />
					</p:column>
					<p:column headerText="Descripcion rol" class="uce-column1" style="width:30%">
						<h:outputText value="#{item.rolDescripcion}" />
					</p:column>
					<p:column headerText="Estado rol" class="uce-column1" style="width:15%;text-align: center;">
						<h:outputText value="#{item.usroEstado==0?'ACTIVO':'INACTIVO'}" />
					</p:column>
					<p:column headerText="Opcion" class="uce-column1">
						<p:commandLink value="Asignar"
							action="#{apelacionEvaluacionDocenteForm.seleccionarEvaluador(item)}"
							onclick="PF('dialogoTrabajando').show();" ajax="false"
							immediate="true" style="margin: 0px 10x;" />
					</p:column>


				</p:dataTable>

			</p:panel>
			
		
		
			<div >
			<p:commandButton value="Cancelar" action="#{apelacionEvaluacionDocenteForm.cancelarEvaluador()}" update=":frmModalEvaluador" 
			oncomplete="PF('dialogoTrabajando').hide();" immediate="true"/>
			
			</div>
		</p:dialog> 
	</h:form>
</ui:composition>