<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">

	<h:form id="frmModalAgregarHorario">
		<p:dialog id="dlgModalAgregarAula" widgetVar="dlgAgregarHorario" 
			modal="true" 
			draggable="false"
			closable="false" 
			resizable="false" 
			height="180" width="600"
			styleClass="modal-sin-header">

			<p:outputLabel value="Carga Horaria - Actividad " style="font-size: 1.1em !important;" />
			<p:outputLabel value="#{asignacionHorarioForm.ahfDiaLabel} #{asignacionHorarioForm.ahfHoraLabel}" style="font-size: 1.1em !important;"/>

			<p:messages autoUpdate="true" globalOnly="true" />

			<p:panel id="pnlBusqueda" header="Seleccione los datos para continuar.">
				<div class="grid condensed">
				
						<div class="row cells8">
							<ui:decorate template="/componentesGenerales/plantillas/pltComponenteGeneralDisplay.xhtml">
								<ui:define name="etiqueta">
									<p:outputLabel id="lblCategoria" for="cmbCategoria" value="CategorÃ­a: " />
								</ui:define>
								<ui:define name="valor">
									<h:selectOneMenu id="cmbCategoria" value="#{asignacionHorarioForm.ahfCategoriaId}" style="width:100%">
										<f:selectItem itemLabel="#{generalesConstantesForm.appSeleccione}" itemValue="#{generalesConstantesForm.appIdBase}" />
										<f:selectItems var="item" value="#{asignacionHorarioForm.ahfListCategoriaCargaHoraria}"
											itemLabel="#{item.label}" 
											itemValue="#{item.value}" />
										<p:ajax event="change"
											listener="#{asignacionHorarioForm.buscarActividades()}"
											update="pnlBusqueda" />
									</h:selectOneMenu>
								</ui:define>
							</ui:decorate>
						</div>
						
						<div class="row cells8">
							<ui:decorate template="/componentesGenerales/plantillas/pltComponenteGeneralDisplay.xhtml">
								<ui:define name="etiqueta">
									<p:outputLabel id="lblActividad" for="slcActividad" value="Actividad: " />
								</ui:define>
								<ui:define name="valor">
									<h:selectOneMenu id="slcActividad" value="#{asignacionHorarioForm.ahfActividadId}" style="width:100%">
										<f:selectItem itemLabel="#{generalesConstantesForm.appSeleccione}" itemValue="#{generalesConstantesForm.appIdBase}" />
										<f:selectItems var="item" value="#{asignacionHorarioForm.ahfListActividadCargaHoraria}"
											itemLabel="#{item.label}" 
											itemValue="#{item.value}" />
									</h:selectOneMenu>
								</ui:define>
							</ui:decorate>
						</div>
						
					</div>
					
			</p:panel>
			

			<div>
				<p:commandButton id="btnCancelar" value="Cancelar"
					update="frmModalAgregarHorario"
					action="#{asignacionHorarioForm.vaciarModalAsignacionHorario()}"
					onclick="PF('dlgModalAgregarAula').hide();" />
				<p:commandButton id="btnAsignar" value="Asignar"
					action="#{asignacionHorarioForm.asignarHorario()}"
					update=":frmHorarioClases , frmModalAgregarHorario" />
			</div>

		</p:dialog>
	</h:form>
</ui:composition>