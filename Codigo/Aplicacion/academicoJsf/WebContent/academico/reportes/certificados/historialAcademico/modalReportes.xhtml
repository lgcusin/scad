<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
      			xmlns:ui="http://java.sun.com/jsf/facelets"
      			xmlns:f="http://java.sun.com/jsf/core"
      			xmlns:h="http://java.sun.com/jsf/html"
     			xmlns:p="http://primefaces.org/ui">
<body class="dtic" onload="nobackbutton(); verificarErrores();">

	
	<h:form id="frmModalImprimir">
		<p:dialog widgetVar="dialogoReporte" modal="true" draggable="false" closable="false" 
				  resizable="false" height="180" width="400" styleClass="modal-sin-header" >
			
			<p:outputLabel value="Opciones de reporte" style="font-size: 1.2em !important;"/>	  
			
					<p:panel id="pnlBusqueda" header="Seleccione una plantilla para continuar.">
						<div class="grid condensed">
							<div class="row cells8">
								<ui:decorate template="/componentesGenerales/plantillas/pltComponenteGeneralDisplay.xhtml">
									<ui:define name="etiqueta">
										<p:outputLabel id="lblOpcion" for="slcOpcion" value="Opciones:  " />
									</ui:define>
									<ui:define name="valor">
										<h:selectOneMenu id="slcOpcion" value="#{estudianteRecordAcademicoForm.erafOpcionReporteId}" style="width:100%">
											<f:selectItem itemLabel="#{generalesConstantesForm.appSeleccione}" itemValue="#{generalesConstantesForm.appIdBase}" />
											<f:selectItems var="item" value="#{estudianteRecordAcademicoForm.erafListOpcionReporte}"
												itemLabel="#{item.label}" 
												itemValue="#{item.value}" />
											<p:ajax event="change"
												update="slcOpcion" />
										</h:selectOneMenu>
									</ui:define>
								</ui:decorate>
							</div>
						</div>

						<div>
							<br />
							<p:commandButton id="btnImprimir" value="Generar" 
								action="#{estudianteRecordAcademicoForm.generarReporte()}" 
								onclick="PF('dialogoTrabajando').show();" 
		    					oncomplete="PF('dialogoReporte').hide();" 
		    					update=":frmRecordAcademico" 
		    					ajax="false" />
		        			
		        			<p:commandButton id="btnCancelar" value="Cancelar" 
		        				action="#{estudianteRecordAcademicoForm.cancelarGenerarReportes()}"
		        				onclick="PF('dialogoTrabajando').show();"
		    					oncomplete="PF('dialogoReporte').hide();" 
		    					update="frmModalImprimir , :frmRecordAcademico"
		    					immediate="true"
		    					ajax="false"/>
						</div>
				</p:panel>
				
		</p:dialog> 
	</h:form>
</body>
</ui:composition>